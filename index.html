<!DOCTYPE html>
<html>
    <head> 
        <meta charset="utf-8">
        <link rel="stylesheet" href="./style/main.css">
        <link rel="stylesheet" href="./vendor/highlight/css/solarized-dark.css">
    </head>
    <body>
        <div class="toolbar">
            <ul>
                <li><a href="" id="exit-btn">x</a></li>
                <li><a href="" id="max-btn">o</a></li>
                <li><a href="" id="min-btn">-</a></li>
            </ul>
        </div>
        <div class="container">
            <h2>DevNote</h2>
            <div id="main-text" contenteditable></div>
            <div class="footer">
                <span class="address">NewFile</span>
            </div>
            <div class="menu">
                <button type="button" id="parse-btn">Parse</button>
                <button type="button" id="new-btn">New</button>
                <button type="button" id="open-btn">Open</button>
                <button type="button" id="save-btn">Save</button>
                <button type="button" id="export-btn">Export</button>

            </div>
        <!-- /.container -->          
        </div>
        
    </body>
    <script>
        // Based on @ram-g-athreya answer on SO
        // https://stackoverflow.com/questions/18552336/prevent-contenteditable-adding-div-on-enter-chrome
        document.getElementById("main-text").onkeydown = function(e) {
            // trap the return key being pressed
            if (e.keyCode === 13) 
            {
            // insert 2 br tags (if only one br tag is inserted the cursor won't go to the next line)
            document.execCommand('insertHTML', false, '<br><br>');
            // prevent the default behaviour of return key pressed
            return false;
            }
        }
    </script>
    <script src="./vendor/highlight/highlight.pack.js" charset="utf-8"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
        require('./renderer.js');
    </script>
</html>